---
# Ansible
ansible_user: ubuntu
ansible_ssh_private_key_file: ~/.ssh/{{ project_name }}-{{ environment }}-key.pem
aws_profile: {{ project_name }}

instance_volumes:
  data:
    size: 100G
  logs:
    size: 100G

##auto shutdown servers after this limit (specified in hours)
server_uptime_limit: 4

# need better way to determine region and AZ
region: {{ aws_region }}
az: us-west-2d

# Kubernetes
token: iotn9i.9ymmeaol3iztc0yy

# Any other additional opts you want to add..
kubeadm_opts: ""
# For example:
# kubeadm_opts: '--apiserver-cert-extra-sans "k8s.domain.com,kubernetes.domain.com"'

service_cidr: "192.168.0.0/17"
pod_network_cidr: "192.168.128.0/17"

systemd_dir: /lib/systemd/system
system_env_dir: /etc/sysconfig
network_dir: /etc/kubernetes/network
kubeadmin_config: /etc/kubernetes/admin.conf
kube_addon_dir: /etc/kubernetes/addon
kube_config_dir: /etc/kubernetes
kube_version: 1.29
kube_cni_version: 1.2.0-00

disk_size: 100G
kube_reserved_cpu: 100m
kube_reserved_memory: 100Mi
system_reserved_cpu: 100m
system_reserved_memory: 100Mi
eviction_memory_threshold: 100Mi

# temporary directory used by additional features
tmp_dir: /tmp/kubeadm-ansible-files

master_ip: "{{ master_ip }}"
worker_name: "{{ worker_name }}"
worker_ip:  "{{ worker_ip }}"

lifecycle: {{ environment }}
external_hostname: {{ external_hostname }}

kafka_version: {{ kafka_version }}
mongodb_version: {{ mongodb_version }}
postgres_version: {{ postgres_version }}
keycloak_version: {{ keycloak_version }}
nginx_ingress_controller_version: {{ nginx_ingress_controller_version }}
redis_version: {{ redis_version }}
vault_version: {{ vault_version }}
prometheus_version: {{ prometheus_version }}
grafana_version: {{ grafana_version }}

grafana_replicas: {{ grafana_replicas }}
kubernetes_dashboard_replicas: {{ kubernetes_dashboard_replicas }}
kafka_replicas: {{ kafka_replicas }}
mongodb_replicas: {{ mongodb_replicas }}
redis_master_count: {{ redis_master_count }} ## signifies master nodes only
postgres_read_replicas: {{ postgres_read_replicas }}
keycloak_replicas: {{ keycloak_replicas }}
vault_replicas: {{ vault_replicas }}
ingress_controller_replicas: {{ ingress_controller_replicas }}
run_as_uid: 1001
run_as_gid: 1001

grafana_data_volume_size: {{ grafana_data_volume_size }}
kafka_data_volume_size: {{ kafka_data_volume_size }}
kafka_logs_volume_size: {{ kafka_logs_volume_size }}
mongodb_data_volume_size: {{ mongodb_data_volume_size }}
postgres_data_volume_size: {{ postgres_data_volume_size }}
prometheus_server_data_volume_size: {{ prometheus_server_data_volume_size }}
prometheus_alertManager_data_volume_size: {{ prometheus_alertManager_data_volume_size }}
vault_data_volume_size: {{ vault_data_volume_size }} #Gave an eccentric value for proper binding for now

# port 53  - DNS
# port 179  - BGP
# port 8443 - alternative HTTPS port
# 2379-2381/tcp - ETCD( 2381 for metrics)
# 6782-6783/tcp - weavenetworks
# 6783-6784/udp - weavenetworks
# 8472/udp - VxLAN ( linux kernel uses this for VxLAN traffic)
# 4789/udp - VxLAN ( open vSwitch)
# 9153/tcp - coreDNS metrics
# 27017-27019/tcp - mongodb port
ports_to_open:
  - 80/tcp
  - 8080/tcp
  - 53/tcp
  - 53/udp
  - 123/udp
  - 179/tcp
  - 443/tcp
  - 2379-2381/tcp
  - 5432/tcp
  - 6443/tcp
  - 6781-6784/tcp
  - 6781-6784/udp
  - 8090-8091/tcp
  - 8472/udp
  - 9153/tcp
  - 10248-10260/tcp
  - 4789/udp
  - 5473/tcp
  - 8443/tcp
  - 8472/udp
  - 9099/tcp
  - 27017-27019/tcp
  - 30000-65535/tcp
  - 9000-9005/tcp